{% extends "base.html" %}
{% block title %} Welcome! {% endblock %}

{% block content %}

<!-- ========================= SECTION PAGETOP ========================= -->
<section class="section-pagetop bg">
<div class="container">
	<h2 class="title-page">My account</h2>
</div> <!-- container //  -->
</section>
<!-- ========================= SECTION INTRO END// ========================= -->

<!-- ========================= SECTION CONTENT ========================= -->
<section class="section-content padding-y">
<div class="container">

<div class="row">
	{% include "./partials/profile-tab.html" %}
	<main class="col-md-9">

		<article class="card mb-3">
			<div class="card-body">
				
				<figure class="icontext">
						<div class="icon" style="margin-right: 50px;">
							<img class="rounded-circle img-sm border" src="images/avatars/avatar3.jpg">
						</div>
					
				</figure>
				<hr>
				<div class="text" style="line-height: 25px;">
					<strong><i class="fa fas fa-user"></i>&nbsp; Username: </strong><br>{{current_user.username}}<br> <br> 
					<b> <i class="fa fa-solid fa-envelope"></i>&nbsp;  Email:</b><br>{{current_user.email}}<br> <br> 
					<p>
						<i class="fa fa-solid fa-venus-mars"></i>&nbsp; <b>Gender:</b><br>  
						{{gender_dict[current_user.gender]}}&nbsp 
					
					</p>
					<p>
						<i class="fa fas fa-map-marker"></i>&nbsp; <b>Address:</b><br>  
						{{current_user.address}}&nbsp 
					
					</p>
					<a href="{{ url_for('user_page.editAccount') }}">Edit Profile</a>
				</div>
				<hr>

				<article class="card-group">
					<figure class="card bg">
						<div class="p-3">
							 <h5 class="card-title">38</h5>
							<span>Orders</span>
						</div>
					</figure>
					<figure class="card bg">
						<div class="p-3">
							 <h5 class="card-title">5</h5>
							<span>Wishlists</span>
						</div>
					</figure>
					<figure class="card bg">
						<div class="p-3">
							 <h5 class="card-title">12</h5>
							<span>Awaiting delivery</span>
						</div>
					</figure>
					<figure class="card bg">
						<div class="p-3">
							 <h5 class="card-title">50</h5>
							<span>Delivered items</span>
						</div>
					</figure>
				</article>
				

			</div> <!-- card-body .// -->
		</article> <!-- card.// -->

		<article class="card  mb-3">
			<div class="card-body">
				<h5 class="card-title mb-4">Recent orders </h5>	

				<div class="row">
				<div class="col-md-6">
					<figure class="itemside  mb-3">
						<div class="aside"><img src="images/items/1.jpg" class="border img-sm"></div>
						<figcaption class="info">
							<time class="text-muted"><i class="fa fa-calendar-alt"></i> 12.09.2019</time>
							<p>Great item name goes here </p>
							<span class="text-warning">Pending</span>
						</figcaption>
					</figure>
				</div> <!-- col.// -->
				<div class="col-md-6">
					<figure class="itemside  mb-3">
						<div class="aside"><img src="images/items/2.jpg" class="border img-sm"></div>
						<figcaption class="info">
							<time class="text-muted"><i class="fa fa-calendar-alt"></i> 12.09.2019</time>
							<p>Machine for kitchen to blend </p>
							<span class="text-success">Departured</span>
						</figcaption>
					</figure>
				</div> <!-- col.// -->
				<div class="col-md-6">
					<figure class="itemside mb-3">
						<div class="aside"><img src="images/items/3.jpg" class="border img-sm"></div>
						<figcaption class="info">
							<time class="text-muted"><i class="fa fa-calendar-alt"></i> 12.09.2019</time>
							<p>Ladies bag original leather </p>
							<span class="text-success">Shipped  </span>
						</figcaption>
					</figure>
				</div> <!-- col.// -->
			</div> <!-- row.// -->

			<a href="#" class="btn btn-outline-primary"> See all orders  </a>
			</div> <!-- card-body .// -->
		</article> <!-- card.// -->
		<article class="card  mb-3">
			<div class="card-body">
				<h5 class="card-title mb-4 text-danger">Danger Zone</h5>	



		
			<a href="#" class="btn btn-outline-danger" data-toggle="modal" data-target="#delete"> Delete account </a>
			<a href="#" style="margin-left: 10px;" data-toggle="modal" data-target="#disable" class="btn btn-outline-secondary"> Disable account </a>
			
			</div> <!-- card-body .// -->
		</article> <!-- card.// -->
	</main> <!-- col.// -->
</div>

</div> <!-- container .//  -->
</section>
<!-- ========================= SECTION CONTENT END// ========================= -->
<!-- Modal -->
<div class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="deleteTitle" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered" role="document">
	  <div class="modal-content">
		<div class="modal-header">
		  <h5 class="modal-title" id="deleteTitle">Deletion of account</h5>
		  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		  </button>
		</div>
		<div class="modal-body">
		  Are you sure you want to delete your account? You cannot recover it back.
		</div>
		<div class="modal-footer">
		  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
		  <form method="POST" action="{{url_for('user_page.deleteAccount')}}">
			  <input type="hidden" name="id" value="{{current_user.id}}">
		  <button type="submit" class="btn btn-danger">Delete Account</button>
		  </form>
		</div>
	  </div>
	</div>
  </div>


  <div class="modal fade" id="disable" tabindex="-1" role="dialog" aria-labelledby="disableTitle" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered" role="document">
	  <div class="modal-content">
		<div class="modal-header">
		  <h5 class="modal-title" id="disableTitle">Deletion of account</h5>
		  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		  </button>
		</div>
		<div class="modal-body">
		  Are you sure you want to disable your account? This action cannot be reversed.
		</div>
		<div class="modal-footer">
		  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
		  <form method="POST" action="{{url_for('user_page.disableAccount')}}">
			  <input type="hidden" name="id" value="{{current_user.id}}">
		  <button type="submit" class="btn btn-danger">Disable Account</button>
		  </form>
		</div>
	  </div>
	</div>
  </div>

{% endblock %}